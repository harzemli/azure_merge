import socket
import time

inner_track_p1 = [
    "376.332703,327.166351,1,30,0:23,0:19,3/60", "327.332703,327.166351,1,29,0:23,0:19,3/60",
    "283.332703,322.166351,1,28,0:23,0:19,3/60", "231.332703,329.166351,1,27,0:23,0:19,3/60",
    "183.332703,324.166351,1,26,0:23,0:19,3/60", "139.332703,319.166351,1,25,0:23,0:19,3/60",
    "105.332703,303.166351,1,24,0:23,0:19,3/60", "85.332703,270.166351,1,23,0:23,0:19,3/60",
    "73.332703,231.166351,1,22,0:23,0:19,3/60", "71.332703,191.166351,1,21,0:23,0:19,3/60",
    "78.332703,146.166351,1,20,0:23,0:19,3/60", "87.332703,121.166351,1,19,0:23,0:19,3/60",
    "106.332703,94.166351,1,20,0:23,0:19,3/60", "139.332703,72.166351,1,21,0:23,0:19,3/60",
    "172.332703,76.166351,1,22,0:23,0:19,3/60", "196.332703,96.166351,1,23,0:23,0:19,3/60",
    "216.332703,125.166351,1,24,0:23,0:19,3/60", "227.332703,157.166351,1,25,0:23,0:19,3/60",
    "244.332703,182.166351,1,26,0:23,0:19,3/60", "260.332703,196.166351,1,27,0:23,0:19,3/60",
    "274.332703,211.166351,1,28,0:23,0:19,3/60", "309.332703,223.166351,1,29,0:23,0:19,3/60",
    "348.332703,224.166351,1,30,0:23,0:19,3/60", "400.332703,222.166351,1,31,0:23,0:19,3/60",
    "431.332703,223.166351,1,32,0:23,0:19,3/60"
]

inner_track_p2 = [
    "475.332703,222.166351,1,33,0:23,0:19,3/60", "519.332703,225.166351,1,34,0:23,0:19,3/60",
    "549.332703,219.166351,1,35,0:23,0:19,3/60", "596.332703,221.166351,1,36,0:23,0:19,3/60"
]

inner_track_p3 = [
    "647.332703,224.166351,1,33,0:23,0:19,3/60", "684.332703,224.166351,1,31,0:23,0:19,3/60",
    "719.332703,237.166351,1,30,0:23,0:19,3/60", "745.332703,260.166351,1,29,0:23,0:19,3/60",
    "756.332703,289.166351,1,28,0:23,0:19,3/60", "763.332703,318.166351,1,27,0:23,0:19,3/60",
    "769.332703,348.166351,1,25,0:23,0:19,3/60", "763.332703,379.166351,1,22,0:23,0:19,3/60",
    "751.332703,420.166351,1,20,0:23,0:19,3/60", "723.332703,461.166351,1,22,0:23,0:19,3/60",
    "693.332703,474.166351,1,23,0:23,0:19,3/60", "651.332703,463.166351,1,24,0:23,0:19,3/60",
    "624.332703,430.166351,1,25,0:23,0:19,3/60", "607.332703,391.166351,1,26,0:23,0:19,3/60",
    "586.332703,357.166351,1,27,0:23,0:19,3/60", "550.332703,331.166351,1,28,0:23,0:19,3/60",
    "499.332703,324.166351,1,29,0:23,0:19,3/60", "458.332703,323.166351,1,31,0:23,0:19,3/60",
    "411.332703,324.166351,1,32,0:23,0:19,3/60"
]

outer_track_p1 = [
    "396.332703,374.166351,1,23,0:23,0:19,3/60", "354.332703,373.166351,1,23,0:23,0:19,3/60",
    "309.332703,371.166351,1,23,0:23,0:19,3/60", "276.332703,372.166351,1,23,0:23,0:19,3/60",
    "227.332703,372.166351,1,23,0:23,0:19,3/60", "173.332703,372.166351,1,23,0:23,0:19,3/60",
    "123.332703,365.166351,1,23,0:23,0:19,3/60", "86.332703,337.166351,1,23,0:23,0:19,3/60",
    "66.332703,310.166351,1,23,0:23,0:19,3/60", "50.332703,272.166351,1,23,0:23,0:19,3/60",
    "40.332703,230.166351,1,23,0:23,0:19,3/60", "42.332703,188.166351,1,23,0:23,0:19,3/60",
    "45.332703,154.166351,1,23,0:23,0:19,3/60", "53.332703,118.166351,1,23,0:23,0:19,3/60",
    "66.332703,82.166351,1,23,0:23,0:19,3/60", "94.332703,49.166351,1,23,0:23,0:19,3/60",
    "121.332703,32.166351,1,23,0:23,0:19,3/60", "167.332703,27.166351,1,23,0:23,0:19,3/60",
    "197.332703,43.166351,1,23,0:23,0:19,3/60", "226.332703,70.166351,1,23,0:23,0:19,3/60",
    "243.332703,103.166351,1,23,0:23,0:19,3/60", "259.332703,137.166351,1,23,0:23,0:19,3/60",
    "275.332703,156.166351,1,23,0:23,0:19,3/60", "309.332703,173.166351,1,23,0:23,0:19,3/60",
    "353.332703,173.166351,1,23,0:23,0:19,3/60", "403.332703,175.166351,1,23,0:23,0:19,3/60",
    "433.332703,175.166351,1,23,0:23,0:19,3/60"
]

outer_track_p2 = [
    "469.332703,171.166351,1,23,0:23,0:19,3/60", "510.332703,172.166351,1,23,0:23,0:19,3/60",
    "546.332703,170.166351,1,23,0:23,0:19,3/60", "590.332703,170.166351,1,23,0:23,0:19,3/60"
]

outer_track_p3 = [
    "639.332703,173.166351,1,23,0:23,0:19,3/60", "673.332703,171.166351,1,23,0:23,0:19,3/60",
    "711.332703,180.166351,1,23,0:23,0:19,3/60", "742.332703,201.166351,1,23,0:23,0:19,3/60",
    "764.332703,229.166351,1,23,0:23,0:19,3/60", "780.332703,256.166351,1,23,0:23,0:19,3/60",
    "787.332703,284.166351,1,23,0:23,0:19,3/60", "795.332703,312.166351,1,23,0:23,0:19,3/60",
    "797.332703,359.166351,1,23,0:23,0:19,3/60", "793.332703,398.166351,1,23,0:23,0:19,3/60",
    "780.332703,431.166351,1,23,0:23,0:19,3/60", "772.332703,457.166351,1,23,0:23,0:19,3/60",
    "756.332703,484.166351,1,23,0:23,0:19,3/60", "731.332703,508.166351,1,23,0:23,0:19,3/60",
    "699.332703,523.166382", "658.332703,518.166382",
    "626.332703,495.166351,1,23,0:23,0:19,3/60", "603.332703,463.166351,1,23,0:23,0:19,3/60",
    "581.332703,423.166351,1,23,0:23,0:19,3/60", "556.332703,385.166351,1,23,0:23,0:19,3/60",
    "514.332703,375.166351,1,23,0:23,0:19,3/60", "471.332703,373.166351,1,23,0:23,0:19,3/60",
    "430.332703,374.166351,1,23,0:23,0:19,3/60"
]

inner_to_outer_track = [
    "470.332703,213.166351,1,23,0:23,0:19,3/60", "518.332703,205.166351,1,23,0:23,0:19,3/60",
    "561.332703,190.166351,1,23,0:23,0:19,3/60", "612.332703,181.166351,1,23,0:23,0:19,3/60"
]

outer_to_inner_track = [
    "459.332703,179.166351,1,23,0:23,0:19,3/60", "496.332703,186.166351,1,23,0:23,0:19,3/60",
    "531.332703,197.166351,1,23,0:23,0:19,3/60", "568.332703,203.166351,1,23,0:23,0:19,3/60",
    "608.332703,215.166351,1,23,0:23,0:19,3/60"
]

UDP_IP = "127.0.0.1"
UDP_PORT = 4242
final_track = inner_track_p1 + inner_track_p2 + inner_track_p3 + inner_track_p1 + \
              inner_to_outer_track + outer_track_p3 + outer_track_p1 +  \
              + outer_to_inner_track + inner_track_p3
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  # UDP
sock.bind((UDP_IP, UDP_PORT))
i = 0
while True:
    data, addr = sock.recvfrom(1024)  # buffer size is 1024 bytes
    if data:
        print("received message:", data)
        while True:
            text = final_track[i]
            print(text)
            sock.sendto(text.encode('utf-8'), addr)
            i += 1
            if i == len(final_track):
                i = 0
            time.sleep(.2)
